(window.webpackJsonppuhelinluettelo=window.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),l=t(2),u=function(e){var n=e.addperson,t=e.setName,a=e.setNumber,o=e.name,c=e.number;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"Name:",r.a.createElement("input",{value:o,onChange:function(e){return t(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:c,onChange:function(e){return a(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("button",null,"add")))},i=function(e){var n=e.data,t=e.deletePerson;return r.a.createElement("div",null,n.name," - ",n.number,r.a.createElement("button",{value:n.id,onClick:t},"delete"))},d=function(e){var n=e.data.filter(function(n){return n.name.toUpperCase().includes(e.filter.toUpperCase())?n:null});return r.a.createElement("div",null,n.map(function(n){return r.a.createElement(i,{key:n.name,data:n,deletePerson:e.deletePerson})}))},m=function(e){return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,"filter shown with",r.a.createElement("input",{value:e.newFilter,onChange:function(n){e.setFilter(n.target.value)}}))))},f=t(3),s=t.n(f),p="/api/persons",b=function(){return s.a.get(p).then(function(e){return e.data})},h=function(e){return s.a.post(p,e).then(function(e){return e.data})},v=function(e,n){return s.a.put("".concat(p,"/").concat(e),n).then(function(e){return e.data})},g=function(e){return s.a.delete("".concat(p,"/").concat(e)).then(function(e){return e.data})},E=function(e){var n=e.message,t=e.error;if(null===n)return null;return r.a.createElement("div",{style:t?{color:"red",fontStyle:"italic",font:"16px",background:"lightgrey",border:"1px solid red",margin:"10px",padding:"10px",textAlign:"center"}:{color:"green",fontStyle:"italic",font:"16px",background:"lightgrey",border:"1px solid green",margin:"10px",padding:"10px",textAlign:"center"}},n)},w=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),f=i[0],s=i[1],p=Object(a.useState)(""),w=Object(l.a)(p,2),j=w[0],O=w[1],x=Object(a.useState)(""),y=Object(l.a)(x,2),S=y[0],k=y[1],C=Object(a.useState)(null),N=Object(l.a)(C,2),P=N[0],A=N[1],U=Object(a.useState)(!1),D=Object(l.a)(U,2),F=D[0],I=D[1];Object(a.useEffect)(function(){b().then(function(e){console.log(e),o(e)})},[]);var J=function(){O(""),k("")},B=function(e){A(e),setTimeout(function(){A(null)},3e3)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(E,{message:P,error:F}),r.a.createElement(m,{filter:f,setFilter:s}),r.a.createElement("h3",null,"Add a new"),r.a.createElement(u,{addperson:function(e){e.preventDefault();var n={name:j,number:S};t.map(function(e){return e.name.toUpperCase()}).includes(j.toUpperCase())&&window.confirm("".concat(j," is already added to phonebook, replace the old number with a new one?"))?v(t.length,n).then(function(e){I(!1),B("".concat(j," phone number updated")),b().then(function(e){o(e),J()})}).catch(function(e){I(!0),B("Information of ".concat(j," has already been removed from server")),b().then(function(e){o(e),J()})}):h(n).then(function(e){I(!1),B("Added ".concat(j)),o(t.concat(e)),J()})},setNumber:k,setName:O,name:j,number:S}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(d,{data:t,filter:f,deletePerson:function(e){e.preventDefault();var n=+e.target.value,a=t.find(function(e){return e.id===n});console.log(a),window.confirm("Delete ".concat(a.name))&&g(a.id).then(function(e){b().then(function(e){console.log(e),o(e),I(!0),B("".concat(a.name," removed"))})}).catch(function(e){I(!0),B("Information of ".concat(j," has already been removed from server")),b().then(function(e){o(e),J()})})}}))};c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.03a34a91.chunk.js.map